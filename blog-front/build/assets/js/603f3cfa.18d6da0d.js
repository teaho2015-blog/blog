"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2323],{7010:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});var i=a(3274),t=a(1780);const l={slug:"article/java11-feature",title:"Java11\u7279\u6027\u5206\u6790",date:new Date("2021-09-10T00:00:00.000Z"),authors:"teaho2015",tags:["java"],keywords:["java"],description:"Java11\u662fJava8\u540e\u7684\u7b2c\u4e00\u4e2aLTS\u7248\u672c\uff0c\u5206\u6790\u4e0bOpenJDK\u7684\u7279\u6027\u5217\u8868\u3002",image:"/img/blog/java11/header.jpg",sticky:1},r=void 0,s={permalink:"/article/java11-feature",editUrl:"https://github.com/teaho2015-blog/blog/edit/main/blog/code/java11/java11.md",source:"@site/blog/code/java11/java11.md",title:"Java11\u7279\u6027\u5206\u6790",description:"Java11\u662fJava8\u540e\u7684\u7b2c\u4e00\u4e2aLTS\u7248\u672c\uff0c\u5206\u6790\u4e0bOpenJDK\u7684\u7279\u6027\u5217\u8868\u3002",date:"2021-09-10T00:00:00.000Z",formattedDate:"September 10, 2021",tags:[{label:"java",permalink:"/tags/java"}],readingTime:15.863333333333333,hasTruncateMarker:!0,authors:[{name:"teaho2015",title:"teaho2015",url:"https://github.com/teaho2015",imageURL:"/img/logo.png",key:"teaho2015"}],frontMatter:{slug:"article/java11-feature",title:"Java11\u7279\u6027\u5206\u6790",date:"2021-09-10T00:00:00.000Z",authors:"teaho2015",tags:["java"],keywords:["java"],description:"Java11\u662fJava8\u540e\u7684\u7b2c\u4e00\u4e2aLTS\u7248\u672c\uff0c\u5206\u6790\u4e0bOpenJDK\u7684\u7279\u6027\u5217\u8868\u3002",image:"/img/blog/java11/header.jpg",sticky:1},unlisted:!1,prevItem:{title:"Java\u6a21\u5757\u5316",permalink:"/article/java-modular"},nextItem:{title:"\u9b45\u65cf\u9b45\u84dd2\u62c6\u673a",permalink:"/article/phone-arch"}},c={authorsImageUrls:[void 0]},o=[{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"181: Nest-Based Access Control\uff08\u57fa\u4e8e\u5d4c\u5957\u7684\u8bbf\u95ee\u63a7\u5236\uff09",id:"181-nest-based-access-control\u57fa\u4e8e\u5d4c\u5957\u7684\u8bbf\u95ee\u63a7\u5236",level:2},{value:"JVM\u5bf9\u5d4c\u5957\u6210\u5458\u7684\u8bbf\u95ee\u63a7\u5236\u6539\u52a8",id:"jvm\u5bf9\u5d4c\u5957\u6210\u5458\u7684\u8bbf\u95ee\u63a7\u5236\u6539\u52a8",level:3},{value:"\u5d4c\u5957\u6210\u5458\u53cd\u5c04API",id:"\u5d4c\u5957\u6210\u5458\u53cd\u5c04api",level:3},{value:"309: Dynamic Class-File Constants\uff08\u52a8\u6001\u7684\u7c7b\u6587\u4ef6\u5e38\u91cf\uff09",id:"309-dynamic-class-file-constants\u52a8\u6001\u7684\u7c7b\u6587\u4ef6\u5e38\u91cf",level:2},{value:"315: Improve Aarch64 Intrinsics\uff08\u4f18\u5316Aarch64\u5185\u5728\u51fd\u6570\uff09",id:"315-improve-aarch64-intrinsics\u4f18\u5316aarch64\u5185\u5728\u51fd\u6570",level:2},{value:"318: Epsilon: A No-Op Garbage Collector\uff08\u4e00\u4e2a\u65e0\u64cd\u4f5c\u5783\u573e\u6536\u96c6\u5668\uff09",id:"318-epsilon-a-no-op-garbage-collector\u4e00\u4e2a\u65e0\u64cd\u4f5c\u5783\u573e\u6536\u96c6\u5668",level:2},{value:"320: Remove the Java EE and CORBA Modules\uff08\u79fb\u9664Java EE\u548cCORBA\u6a21\u5757\uff09",id:"320-remove-the-java-ee-and-corba-modules\u79fb\u9664java-ee\u548ccorba\u6a21\u5757",level:2},{value:"\u79fb\u9664\u539f\u56e0",id:"\u79fb\u9664\u539f\u56e0",level:3},{value:"321: HTTP Client (Standard) \uff08HTTP Client API\uff09",id:"321-http-client-standard-http-client-api",level:2},{value:"323: Local-Variable Syntax for Lambda Parameters (lambda\u53c2\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u8bed\u6cd5)",id:"323-local-variable-syntax-for-lambda-parameters-lambda\u53c2\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u8bed\u6cd5",level:2},{value:"324: Key Agreement with Curve25519 and Curve448",id:"324-key-agreement-with-curve25519-and-curve448",level:2},{value:"327: Unicode 10 (\u5bf9unicode10\u7684\u652f\u6301)",id:"327-unicode-10-\u5bf9unicode10\u7684\u652f\u6301",level:2},{value:"328: Flight Recorder(\u98de\u884c\u8bb0\u5f55\u5668)",id:"328-flight-recorder\u98de\u884c\u8bb0\u5f55\u5668",level:2},{value:"\u529f\u80fd\u4f7f\u7528",id:"\u529f\u80fd\u4f7f\u7528",level:3},{value:"jmc\u5206\u6790jfr\u6587\u4ef6",id:"jmc\u5206\u6790jfr\u6587\u4ef6",level:4},{value:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u53ca\u5206\u6790",id:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u53ca\u5206\u6790",level:4},{value:"330: Launch Single-File Source-Code Programs \uff08\u8fd0\u884c\u5355\u6587\u4ef6\u7a0b\u5e8f\uff09",id:"330-launch-single-file-source-code-programs-\u8fd0\u884c\u5355\u6587\u4ef6\u7a0b\u5e8f",level:2},{value:"329: ChaCha20 and Poly1305 Cryptographic Algorithms",id:"329-chacha20-and-poly1305-cryptographic-algorithms",level:2},{value:"331: Low-Overhead Heap Profiling\uff08\u4f4e\u5f00\u9500\u7684\u5806profiling\uff09",id:"331-low-overhead-heap-profiling\u4f4e\u5f00\u9500\u7684\u5806profiling",level:2},{value:"333: ZGC: A Scalable Low-Latency Garbage Collector (Experimental)",id:"333-zgc-a-scalable-low-latency-garbage-collector-experimental",level:2},{value:"\u529f\u80fd\u4f7f\u7528",id:"\u529f\u80fd\u4f7f\u7528-1",level:3},{value:"\u6027\u80fd\u8868\u73b0",id:"\u6027\u80fd\u8868\u73b0",level:3},{value:"\u7f3a\u70b9\uff08\u5c40\u9650\u6027\uff09",id:"\u7f3a\u70b9\u5c40\u9650\u6027",level:3},{value:"\u8fd0\u884c\u539f\u7406",id:"\u8fd0\u884c\u539f\u7406",level:3},{value:"\u914d\u7f6e\u53c2\u6570",id:"\u914d\u7f6e\u53c2\u6570",level:3},{value:"332: Transport Layer Security (TLS) 1.3",id:"332-transport-layer-security-tls-13",level:2},{value:"335: Deprecate the Nashorn JavaScript Engine",id:"335-deprecate-the-nashorn-javascript-engine",level:2},{value:"336: Deprecate the Pack200 Tools and API",id:"336-deprecate-the-pack200-tools-and-api",level:2},{value:"API\u53d8\u66f4",id:"api\u53d8\u66f4",level:2},{value:"java.lang.String",id:"javalangstring",level:3},{value:"\u7b80\u5355\u7684\u6587\u4ef6\u8bfb\u53d6",id:"\u7b80\u5355\u7684\u6587\u4ef6\u8bfb\u53d6",level:3},{value:"JAVA10\u540c\u573a\u52a0\u6620",id:"java10\u540c\u573a\u52a0\u6620",level:2},{value:"286: Local-Variable Type Inference\uff08\u672c\u5730\u53d8\u91cf\u7c7b\u578b\u63a8\u65ad\uff09",id:"286-local-variable-type-inference\u672c\u5730\u53d8\u91cf\u7c7b\u578b\u63a8\u65ad",level:3},{value:"API\u53d8\u66f4",id:"api\u53d8\u66f4-1",level:3},{value:"JAVA9\u540c\u573a\u52a0\u6620(\u672a\u5b8c\u6210)",id:"java9\u540c\u573a\u52a0\u6620\u672a\u5b8c\u6210",level:2},{value:"222: jshell: The Java Shell (Read-Eval-Print Loop)",id:"222-jshell-the-java-shell-read-eval-print-loop",level:3},{value:"\u4e00\u822c\u4f7f\u7528",id:"\u4e00\u822c\u4f7f\u7528",level:4},{value:"API\u4f7f\u7528",id:"api\u4f7f\u7528",level:4},{value:"\u5176\u4ed6\u53d8\u66f4",id:"\u5176\u4ed6\u53d8\u66f4",level:3},{value:"Flow  API",id:"flow--api",level:4},{value:"reference",id:"reference",level:2}];function d(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"\u81eaJava11\u8d77\uff0cOracle JDK\u5c06\u4e0d\u518d\u514d\u8d39\u63d0\u4f9b\u5546\u4e1a\u7528\u9014\u3002"}),"\n",(0,i.jsx)(n.p,{children:"Java11\u662fJava8\u540e\u7684\u7b2c\u4e00\u4e2aLTS\u7248\u672c\uff0c\u6211\u4eec\u5bf9OpenJDK\u7684\u7279\u6027\u5217\u8868\u505a\u4e00\u4e9b\u5206\u6790\u3002"}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.h2,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,i.jsx)(n.p,{children:"\u4ee5\u4e0b\u662fJava11\u7684\u7279\u6027\u6e05\u5355\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"181: Nest-Based Access Control\uff08\u57fa\u4e8e\u5d4c\u5957\u7684\u8bbf\u95ee\u63a7\u5236\uff09"}),"\n",(0,i.jsx)(n.li,{children:"309: Dynamic Class-File Constants\uff08\u52a8\u6001\u7684\u7c7b\u6587\u4ef6\u5e38\u91cf\uff09"}),"\n",(0,i.jsx)(n.li,{children:"315: Improve Aarch64 Intrinsics\uff08\u4f18\u5316Aarch64\u5185\u5728\u51fd\u6570\uff09"}),"\n",(0,i.jsx)(n.li,{children:"318: Epsilon: A No-Op Garbage Collector\uff08\u4e00\u4e2a\u65e0\u64cd\u4f5c\u5783\u573e\u6536\u96c6\u5668\uff09"}),"\n",(0,i.jsx)(n.li,{children:"320: Remove the Java EE and CORBA Modules\uff08\u79fb\u9664Java EE\u548cCORBA\u6a21\u5757\uff09"}),"\n",(0,i.jsx)(n.li,{children:"321: HTTP Client (Standard) \uff08HTTP Client API\uff09"}),"\n",(0,i.jsx)(n.li,{children:"323: Local-Variable Syntax for Lambda Parameters (lambda\u53c2\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u8bed\u6cd5)"}),"\n",(0,i.jsx)(n.li,{children:"324: Key Agreement with Curve25519 and Curve448"}),"\n",(0,i.jsx)(n.li,{children:"327: Unicode 10 (\u5bf9unicode10\u7684\u652f\u6301)"}),"\n",(0,i.jsx)(n.li,{children:"328: Flight Recorder(\u98de\u884c\u8bb0\u5f55\u5668)"}),"\n",(0,i.jsx)(n.li,{children:"329: ChaCha20 and Poly1305 Cryptographic Algorithms"}),"\n",(0,i.jsx)(n.li,{children:"330: Launch Single-File Source-Code Programs \uff08\u8fd0\u884c\u5355\u6587\u4ef6\u7a0b\u5e8f\uff09"}),"\n",(0,i.jsx)(n.li,{children:"331: Low-Overhead Heap Profiling"}),"\n",(0,i.jsx)(n.li,{children:"332: Transport Layer Security (TLS) 1.3"}),"\n",(0,i.jsx)(n.li,{children:"333: ZGC: A Scalable Low-Latency Garbage Collector (Experimental)"}),"\n",(0,i.jsx)(n.li,{children:"335: Deprecate the Nashorn JavaScript Engine (\u5f03\u7528Nashron)"}),"\n",(0,i.jsx)(n.li,{children:"336: Deprecate the Pack200 Tools and API"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u63d0\u51fa\u95ee\u9898\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u90a3\u4e9b\u662f\u65e5\u5e38\u4f1a\u7528\u5230\u7684\uff1f\u91cd\u70b9\u662f\uff1f"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u4ee3\u7801\u53ca\u5b8c\u6574\u6587\u4ef6\u5730\u5740\uff1a",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.a,{href:"https://github.com/teaho2015-blog/java11-feature-learning",children:"https://github.com/teaho2015-blog/java11-feature-learning"})]}),"\n",(0,i.jsx)(n.h2,{id:"181-nest-based-access-control\u57fa\u4e8e\u5d4c\u5957\u7684\u8bbf\u95ee\u63a7\u5236",children:"181: Nest-Based Access Control\uff08\u57fa\u4e8e\u5d4c\u5957\u7684\u8bbf\u95ee\u63a7\u5236\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u6211\u4eec\u5148\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'\npublic class JEP181 {\n\n    public static class Nest1 {\n        private int varNest1;\n        public void f() throws Exception {\n            final Nest2 nest2 = new Nest2();\n            //\u8fd9\u91cc\u6ca1\u95ee\u9898\n            nest2.varNest2 = 2;\n            final Field f2 = Nest2.class.getDeclaredField("varNest2");\n           //\u8fd9\u91cc\u5728java8\u73af\u5883\u4e0b\u4f1a\u62a5\u9519\uff0c\u5728java11\u4e2d\u662f\u6ca1\u95ee\u9898\u7684\n            f2.setInt(nest2, 2);\n            System.out.println(nest2.varNest2);\n        }\n    }\n\n    public static class Nest2 {\n        private int varNest2;\n    }\n\n    public static void main(String[] args) throws Exception {\n        new Nest1().f();\n    }\n}\n\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u8be5\u6539\u52a8\u8981\u89e3\u51b3\u7684\u95ee\u9898\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Java\u8bed\u8a00\u89c4\u8303\u5141\u8bb8\u5728\u540c\u4e00\u4e2a\u6e90\u6587\u4ef6\u4e2d\u7f16\u5199\u591a\u4e2a\u7c7b\u3002\u5bf9\u4e8e\u7528\u6237\u7684\u89d2\u5ea6\u6765\u8bf4\uff0c\u5728\u540c\u4e00\u4e2a\u7c7b\u6587\u4ef6\u91cc\u7684class\u5e94\u8be5\u5171\u4eab\u540c\u6837\u7684\u8bbf\u95ee\u63a7\u5236\u4f53\u7cfb\u3002\n\u4e3a\u4e86\u8fbe\u5230\u76ee\u7684\uff0c\u7f16\u8bd1\u5668\u9700\u8981\u7ecf\u5e38\u9700\u8981\u901a\u8fc7\u9644\u52a0\u7684access bridge\u6269\u5927private\u6210\u5458\u7684\u8bbf\u95ee\u6743\u9650\u5230package\u3002\n\u8fd9\u79cdbridge\u548c\u5c01\u88c5\u76f8\u8fdd\u80cc\uff0c\u5e76\u4e14\u8f7b\u5fae\u7684\u589e\u52a0\u7a0b\u5e8f\u7684\u5927\u5c0f\uff0c\u4f1a\u5e72\u6270\u7528\u6237\u548c\u5de5\u5177\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\u662f\u53cd\u5c04\u4e0e\u6e90\u7801\u8c03\u7528\u4e0d\u4e00\u81f4\u3002\u5f53\u4f7f\u7528java.lang.reflect.Method.invoke\u4ece\u4e00\u4e2anestmate\u8c03\u7528\u53e6\u4e00\u4e2anestmate\u79c1\u6709\u65b9\u6cd5\u65f6\u4f1a\u62a5IllegalAccessError\u9519\u8bef\u3002\n\u8fd9\u4e2a\u662f\u8ba9\u4eba\u4e0d\u80fd\u7406\u89e3\u7684\uff0c\u56e0\u4e3a\u53cd\u5c04\u5e94\u8be5\u548c\u6e90\u7801\u7ea7\u8bbf\u95ee\u62e5\u6709\u76f8\u540c\u6743\u9650\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u73b0\u6709\u60c5\u51b5\uff1a",(0,i.jsx)(n.br,{}),"\n","\u73b0\u6709\u7684\u7c7b\u6587\u4ef6\u683c\u5f0f\u5b9a\u4e49\u4e86 InnerClasses \u548c EnclosureMethod \u5c5e\u6027\uff08JVMS 4.7.6 \u548c 4.7.7\uff09\uff0c\u4ee5\u5141\u8bb8 Java \u6e90\u4ee3\u7801\u7f16\u8bd1\u5668\uff08\u5982 javac\uff09\u5177\u4f53\u5316\u6e90\u7ea7\u5d4c\u5957\u5173\u7cfb\u3002\n\u6bcf\u4e2a\u5d4c\u5957\u7c7b\u578b\u90fd\u7f16\u8bd1\u4e3a\u5b83\u81ea\u5df1\u7684\u7c7b\u6587\u4ef6\uff0c\u4e0d\u540c\u7684\u7c7b\u6587\u4ef6\u901a\u8fc7\u8fd9\u4e9b\u5c5e\u6027\u7684\u503c\u201c\u94fe\u63a5\u201d\u3002",(0,i.jsx)(n.br,{}),"\n","\u867d\u7136\u8fd9\u4e9b\u5c5e\u6027\u8db3\u4ee5\u8ba9 JVM \u786e\u5b9a\u5d4c\u5957\u5173\u7cfb\uff0c\u4f46\u5b83\u4eec\u5e76\u4e0d\u76f4\u63a5\u9002\u7528\u4e8e\u8bbf\u95ee\u63a7\u5236\uff0c\u5e76\u4e14\u672c\u8d28\u4e0a\u4e0e\u5355\u4e2a Java \u8bed\u8a00\u6982\u5ff5\u76f8\u5173\u8054\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"jvm\u5bf9\u5d4c\u5957\u6210\u5458\u7684\u8bbf\u95ee\u63a7\u5236\u6539\u52a8",children:"JVM\u5bf9\u5d4c\u5957\u6210\u5458\u7684\u8bbf\u95ee\u63a7\u5236\u6539\u52a8"}),"\n",(0,i.jsx)(n.p,{children:"\u4e3a\u4e86\u5141\u8bb8\u66f4\u5e7f\u6cdb\u3001\u66f4\u901a\u7528\u7684\u5d4c\u5957\u6982\u5ff5\uff0c\u800c\u4e0d\u662f\u7b80\u5355\u7684 Java \u8bed\u8a00\u5d4c\u5957\u7c7b\u578b\uff0c\u5e76\u4e14\u4e3a\u4e86\u6709\u6548\u7684\u8bbf\u95ee\u63a7\u5236\u68c0\u67e5\uff0c\u5efa\u8bae\u4fee\u6539\u7c7b\u6587\u4ef6\u683c\u5f0f\u4ee5\u5b9a\u4e49\u4e24\u4e2a\u65b0\u5c5e\u6027\u3002\n\u4e00\u4e2a\u5d4c\u5957\u6210\u5458\uff08\u901a\u5e38\u662f\u9876\u7ea7\u7c7b\uff09\u88ab\u6307\u5b9a\u4e3a\u5d4c\u5957\u4e3b\u673a\uff0c\u5e76\u5305\u542b\u4e00\u4e2a\u5c5e\u6027 (NestMembers) \u6765\u6807\u8bc6\u5176\u4ed6\u9759\u6001\u5df2\u77e5\u7684\u5d4c\u5957\u6210\u5458\u3002 \u6bcf\u4e2a\u5176\u4ed6\u5d4c\u5957\u6210\u5458\u90fd\u6709\u4e00\u4e2a\u5c5e\u6027 (NestHost) \u6765\u6807\u8bc6\u5176\u5d4c\u5957\u4e3b\u673a\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u6211\u4eec\u8c03\u6574\u4e86JVM\u8bbf\u95ee\u89c4\u5219\uff0c\u589e\u52a0\u4e86\u5982\u4e0b\u6761\u76ee\uff08to JVMS 5.4.4\uff09\uff1a",(0,i.jsx)(n.br,{}),"\n","\u4e00\u4e2afield\u6216method R\u53ef\u4ee5\u88abclass\u6216interface D\u8bbf\u95ee\uff0c\u5f53\u4e14\u4ec5\u5f53\u5982\u4e0b\u4efb\u4e00\u6761\u4ef6\u4e3a\u771f\uff1a"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u2026\u2026"}),"\n",(0,i.jsx)(n.li,{children:"R\u662f\u79c1\u6709\u7684\uff0c\u5e76\u4e14\u58f0\u660e\u5728\u53e6\u4e00\u4e2aclass\u6216interface C\u4e2d\uff0c\u5e76\u4e14C\u548cD\u662fnestmates"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u5d4c\u5957\u6210\u5458\u53cd\u5c04api",children:"\u5d4c\u5957\u6210\u5458\u53cd\u5c04API"}),"\n",(0,i.jsx)(n.p,{children:"\u6b63\u56e0Java\u5f15\u5165\u4e86\u65b0\u7684\u7c7b\u6587\u4ef6\u5c5e\u6027\uff0c\u90a3\u4e48\u60ef\u5e38\u5730Java\u4f1a\u63d0\u4f9b\u65b0\u7684\u53cd\u5c04\u673a\u5236\u6765\u68c0\u67e5\u6216\u67e5\u8be2\u8fd9\u4e9b\u5c5e\u6027\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5f15\u5165\u4e86\u4e09\u4e2a\u65b9\u6cd5java.lang.Class: getNestHost, getNestMembers, and isNestmateOf\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"309-dynamic-class-file-constants\u52a8\u6001\u7684\u7c7b\u6587\u4ef6\u5e38\u91cf",children:"309: Dynamic Class-File Constants\uff08\u52a8\u6001\u7684\u7c7b\u6587\u4ef6\u5e38\u91cf\uff09"}),"\n",(0,i.jsxs)(n.p,{children:["\u6269\u5c55 Java \u7c7b\u6587\u4ef6\u683c\u5f0f\u4ee5\u652f\u6301\u65b0\u7684\u5e38\u91cf\u6c60\u5f62\u5f0f CONSTANT_Dynamic\u3002",(0,i.jsx)(n.br,{}),"\n","Loading a CONSTANT_Dynamic will delegate creation to a bootstrap method, just as linking an invokedynamic call site delegates linkage to a bootstrap method."]}),"\n",(0,i.jsx)(n.p,{children:"invokedynamic\u7684\u534f\u8bae\u8bbe\u8ba1\u8005\uff08\u4f8b\u5982 Java 8 \u4e2d\u6dfb\u52a0\u7684 LambdaMetafactory\uff09\u7ecf\u5e38\u9700\u8981\u6839\u636e\u73b0\u6709\u5e38\u91cf\u96c6\u5bf9\u884c\u4e3a\u8fdb\u884c\u7f16\u7801\uff0c\n\u8fd9\u53cd\u8fc7\u6765\u53c8\u9700\u8981\u5728\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\u4e2d\u8fdb\u884c\u989d\u5916\u7684\u5bb9\u6613\u51fa\u9519\u7684\u9a8c\u8bc1\u548c\u63d0\u53d6\u903b\u8f91\u3002\n\u66f4\u4e30\u5bcc\u3001\u66f4\u7075\u6d3b\u3001\u66f4\u9ad8\u5ea6\u7c7b\u578b\u5316\u7684\u5e38\u91cf\u6d88\u9664\u4e86invokedynamic\u534f\u8bae\u5f00\u53d1\u4e2d\u7684\u6323\u624e\uff0c\u5e76\u4fc3\u8fdb\u548c\u7b80\u5316\u4e86\u7f16\u8bd1\u5668\u903b\u8f91\u3002"}),"\n",(0,i.jsx)(n.p,{children:"CONSTANT_Dynamic\u8fd8\u5728\u53d1\u5c55\uff0c\u672a\u6765\u8fd8\u6709\u4e00\u4e9b\u5de5\u4f5c\u9700\u8981\u505a\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"315-improve-aarch64-intrinsics\u4f18\u5316aarch64\u5185\u5728\u51fd\u6570",children:"315: Improve Aarch64 Intrinsics\uff08\u4f18\u5316Aarch64\u5185\u5728\u51fd\u6570\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u6539\u8fdb\u73b0\u6709\u7684\u5b57\u7b26\u4e32\u548c\u6570\u7ec4\u5185\u5728\u51fd\u6570\uff0c\u5e76\u5728 AArch64 \u5904\u7406\u5668\u4e0a\u4e3a java.lang.Math \u5305\u4e0b\u7684 sin\uff0ccos \u548c log \u51fd\u6570\u5b9e\u73b0\u65b0\u7684\u5185\u5728\u51fd\u6570\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"318-epsilon-a-no-op-garbage-collector\u4e00\u4e2a\u65e0\u64cd\u4f5c\u5783\u573e\u6536\u96c6\u5668",children:"318: Epsilon: A No-Op Garbage Collector\uff08\u4e00\u4e2a\u65e0\u64cd\u4f5c\u5783\u573e\u6536\u96c6\u5668\uff09"}),"\n",(0,i.jsx)(n.p,{children:"Epsilon\u662f\u4e00\u4e2a\u4e0d\u6536\u96c6\u5783\u573e\u7684\u5783\u573e\u6536\u96c6\u5668\uff0c\u5f00\u542f\u53c2\u6570-XX:+UseEpsilonGC\u3002\n\u4ed6\u7684\u5de5\u4f5c\u662f\u5728\u5df2\u5206\u914d\u5185\u5b58\u7684\u5355\u4e2a\u8fde\u7eed\u5757\u4e2d\u5b9e\u73b0\u7ebf\u6027\u5206\u914d\u6765\u5de5\u4f5c\u3002\nSystem.gc()\u5bf9Epsilon\u662f\u4e0d\u8d77\u4f5c\u7528\u7684\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5e94\u7528\u573a\u666f\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6027\u80fd\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.li,{children:"\u5185\u5b58\u538b\u529b\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.li,{children:"VM interface\u6d4b\u8bd5\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u5bff\u547d\u6781\u77ed\u7684\u5de5\u4f5c"}),"\n",(0,i.jsx)(n.li,{children:"Last-drop latency improvements\uff08\u6700\u540e\u4e00\u6ef4\u5ef6\u8fdf\u6539\u8fdb\uff09"}),"\n",(0,i.jsx)(n.li,{children:"Last-drop throughput improvements\uff08\u6700\u540e\u4e00\u6ef4\u541e\u5410\u91cf\u6539\u8fdb\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"320-remove-the-java-ee-and-corba-modules\u79fb\u9664java-ee\u548ccorba\u6a21\u5757",children:"320: Remove the Java EE and CORBA Modules\uff08\u79fb\u9664Java EE\u548cCORBA\u6a21\u5757\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u5728Java se 9\uff0c\u5982\u4e0bJava EE\u548cCORBA\u76f8\u5173\u6a21\u5757\u88ab\u6807\u8bb0\u4e3adeprecated\uff0c\u5728Java11\u5982\u4f55\u6a21\u5757\u88ab\u6b63\u5f0f\u79fb\u9664"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"java.xml.ws (JAX-WS, plus the related technologies SAAJ and Web Services Metadata)"}),"\n",(0,i.jsx)(n.li,{children:"java.xml.bind (JAXB)"}),"\n",(0,i.jsx)(n.li,{children:"java.activation (JAF)"}),"\n",(0,i.jsx)(n.li,{children:"java.xml.ws.annotation (Common Annotations)"}),"\n",(0,i.jsx)(n.li,{children:"java.corba (CORBA)"}),"\n",(0,i.jsx)(n.li,{children:"java.transaction (JTA)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u79fb\u9664\u539f\u56e0",children:"\u79fb\u9664\u539f\u56e0"}),"\n",(0,i.jsx)(n.p,{children:"Java se 6\u5305\u542b\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684Web Service\u6280\u672f\u6808\uff0c\u4e3aJava\u5f00\u53d1\u8005\u63d0\u4f9b\u4fbf\u5229\u3002\u4e0d\u8fc7\u968f\u7740\u53d1\u5c55\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u8fd9\u4e9b\u6280\u672f\u5757\u83b7\u5f97\u4e86\u548cJava SE\u672c\u8eab\u5e76\u4e0d\u76f8\u5173\u7684\u7279\u6027\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u8fd9\u4e9b\u6280\u672f\u7531\u4e0a\u6e38java.net\u7ef4\u62a4\u3002\u7531\u4e8e\u5fc5\u987b\u5c06 OpenJDK \u5b58\u50a8\u5e93\u4e2d\u7684 Java SE \u7248\u672c\u4e0e\u4e0a\u6e38\u5b58\u50a8\u5e93\u4e2d\u7684 Java EE \u7248\u672c\u540c\u6b65\uff0c\u8fd9\u4f7f\u5f97\u7ef4\u62a4\u5b58\u5728\u95ee\u9898\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u5f00\u53d1\u8005\u53ef\u4ee5\u4ece\u4e0a\u6e38Java EE\u81ea\u884c\u83b7\u53d6\u72ec\u7acb\u7248\u672c\u5e76\u901a\u8fc7Endorsed Standards Override Mechanism \u90e8\u7f72\u5b83\u4eec\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"321-http-client-standard-http-client-api",children:"321: HTTP Client (Standard) \uff08HTTP Client API\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u8be5\u7279\u6027\u5728Java9\uff08jEP110\uff09\u4e2d\u662f\u5904\u4e8e\u5b75\u5316\u72b6\u6001\uff0cJava11\u6b63\u5f0f\u6807\u51c6\u5316\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8be5\u7279\u6027\u652f\u6301HTTP/1.1\u548cHTTP/2\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u4e0b\u662fHttp client\u540c\u6b65\u3001\u5f02\u6b65\u3001http2\u8c03\u7528\u7684\u7b80\u5355demo\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'\n    /**\n     * \u540c\u6b65\u8c03\u7528 GET\n     * @param uri\n     * @throws Exception\n     */\n    public static void syncGet(String uri) throws Exception {\n        HttpClient client = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(uri))\n            .build();\n\n        HttpResponse<String> response =\n            client.send(request, HttpResponse.BodyHandlers.ofString());\n\n        System.out.println(response.statusCode());\n        System.out.println(response.body());\n    }\n\n    /**\n     * \u5f02\u6b65\u8c03\u7528 GET\n     * @param uri\n     * @throws Exception\n     */\n    public static void asyncGet(String uri) throws Exception {\n        HttpClient client = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(uri))\n            .build();\n\n        CompletableFuture<HttpResponse<String>> responseCompletableFuture = client.sendAsync(request, HttpResponse.BodyHandlers.ofString());\n        responseCompletableFuture.whenComplete((resp, t) -> {\n            if (t != null) {\n                t.printStackTrace();\n            } else {\n                System.out.println(resp.body());\n                System.out.println(resp.statusCode());\n            }\n        }).join();\n    }\n\n    /**\n     * \u8bbf\u95ee HTTP2 \u7f51\u5740\n     * @throws Exception\n     */\n    public static void http2() throws Exception {\n        HttpClient.newBuilder()\n            .followRedirects(HttpClient.Redirect.NORMAL)\n            .version(HttpClient.Version.HTTP_2)\n            .build()\n            .sendAsync(HttpRequest.newBuilder()\n                    .uri(new URI("https://http2.akamai.com/demo"))\n                    .GET()\n                    .build(),\n                HttpResponse.BodyHandlers.ofString())\n            .whenComplete((resp, t) -> {\n                if (t != null) {\n                    t.printStackTrace();\n                } else {\n                    System.out.println(resp.body());\n                    System.out.println(resp.statusCode());\n                }\n            }).join();\n    }\n\n'})}),"\n",(0,i.jsx)(n.h2,{id:"323-local-variable-syntax-for-lambda-parameters-lambda\u53c2\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u8bed\u6cd5",children:"323: Local-Variable Syntax for Lambda Parameters (lambda\u53c2\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u8bed\u6cd5)"}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u662fJava11\u552f\u4e00\u7684\u8bed\u8a00\u6539\u52a8\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u91cc\u642d\u914dJava10\u7684\u65b0\u7279\u6027JEP 286: Local-Variable Type Inference\uff08\u5c40\u90e8\u53d8\u91cf\u7c7b\u578b\u63a8\u65ad\uff09\u4e00\u8d77\u98df\u7528\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8bf7\u770b\u4ee3\u7801 java11\u76ee\u5f55->jep323.class \u4e2d\u7684demo\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://openjdk.java.net/projects/amber/LVTIstyle.html",children:"\u5c40\u90e8\u53d8\u91cf\u63a8\u65ad\uff1a\u4f7f\u7528\u6307\u5f15|jdk.java.net"})}),"\n",(0,i.jsx)(n.p,{children:"Java11\u589e\u52a0\u4e86\u4e00\u70b9\uff0c\u5141\u8bb8\u5728\u58f0\u660elambda\u8868\u8fbe\u5f0f\u65f6\u5728\u8868\u8fbe\u5f0f\u7684\u53c2\u6570\u4f7f\u7528var\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\n(var x) -> System.out.println(x);\n\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u4f5c\u7528\u662f\u4ec0\u4e48\u5462\uff1f",(0,i.jsx)(n.br,{}),"\n","\u4e3a\u4e86\u7edf\u4e00\u5e76\u4e3a\u4e86\u652f\u6301lambda\u53c2\u6570\u4f7f\u7528\u6ce8\u89e3"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"(@NotNull var x) -> System.out.println(x);\n\n(@Number var x) -> System.out.println(x);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"324-key-agreement-with-curve25519-and-curve448",children:"324: Key Agreement with Curve25519 and Curve448"}),"\n",(0,i.jsxs)(n.p,{children:["\u5b9e\u73b0RFC 7748 ",(0,i.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc7748#page-14",children:"[link]"}),"\u4e2d\u6240\u8ff0\uff0c\u4f7f\u7528 Curve25519 \u548c Curve448 \u5b9e\u73b0\u5bc6\u94a5\u534f\u8bae\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u662f\u4e00\u4e2a\u5bc6\u7801\u5b66\u76f8\u5173\uff08ECDH\u5bc6\u94a5\u5408\u610f\u534f\u8bae\uff09\u7684\u53d8\u66f4\uff0c\u66f4\u6539\u662fjava.security\u5305\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"327-unicode-10-\u5bf9unicode10\u7684\u652f\u6301",children:"327: Unicode 10 (\u5bf9unicode10\u7684\u652f\u6301)"}),"\n",(0,i.jsx)(n.p,{children:"Java11\u5b9e\u73b0\u4e869.0\uff0c\u589e\u52a0\u4e867500\u5b57\u7b26\u548c\u516d\u4e2a\u811a\u672c(Unicode\u6587\u672c\u96c6\u5408)\uff0c\u5b9e\u73b0\u4e86Unicode10\u56e0\u6b64\u589e\u52a0\u4e868518\u4e2a\u5b57\u7b26\u548c\u56db\u4e2a\u811a\u672c\uff08Unicode\u6587\u672c\u96c6\u5408\uff09\u3002"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"unicode10",src:a(9461).A+"",width:"1264",height:"1308"})}),"\n",(0,i.jsx)(n.h2,{id:"328-flight-recorder\u98de\u884c\u8bb0\u5f55\u5668",children:"328: Flight Recorder(\u98de\u884c\u8bb0\u5f55\u5668)"}),"\n",(0,i.jsxs)(n.p,{children:["JDK Flight Recorder \u662f\u4e00\u4e2a\u7528\u4e8e\u6536\u96c6\u6709\u5173\u6b63\u5728\u8fd0\u884c\u7684 Java \u5e94\u7528\u7a0b\u5e8f\u7684\u8bca\u65ad\u548c\u5206\u6790\u6570\u636e\u7684\u7cfb\u7edf\u3002",(0,i.jsx)(n.br,{}),"\n","\u5b83\u672c\u8eab\u5bf9\u8fd0\u884c\u671f\u7cfb\u7edf\u7684\u4fb5\u5165\u6027\u5f88\u5c0f\uff0c\u540c\u65f6\u53c8\u80fd\u63d0\u4f9b\u76f8\u5bf9\u51c6\u786e\u548c\u4e30\u5bcc\u7684\u8fd0\u884c\u671f\u4fe1\u606f\uff0c\u4ee5\u6781\u4f4e\u7684\u6027\u80fd\u5f00\u9500\u96c6\u6210\u5230 Java \u865a\u62df\u673a (JVM) \u4e2d\uff0c\u4e13\u4e3a\u5206\u6790\u91cd\u8d1f\u8f7d\u7684\u751f\u4ea7\u73af\u5883\u800c\u8bbe\u8ba1\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5728Java11\u524dFlight Recorder\u548cJava mission Control\uff08JMC\uff09\u90fd\u662f\u5546\u4e1a\u4ea7\u54c1\uff0c\u4ec5\u5728Oracle JDK\u53ef\u7528\u3002\u90a3\u65f6\u5019\u53ef\u4ee5\u8fd9\u6837\u5f00\u542f\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"java -XX:+UnlockCommercialFeatures -XX:+FlightRecorder MyHelloWorldApp\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u73b0\u5728\uff0cJFR\u5728OpenJDK 11\u4e2d\u662f\u5f00\u6e90\u7684\uff0c\u5e76\u4e14\u5728OpenJDK11/bin\u6587\u4ef6\u5939\u4e2d\u53ef\u7528\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u6307\u6807\u6d4b\u91cf\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u53ea\u6709\u6700\u591a1%\u7684\u6027\u80fd\u635f\u8017"}),"\n",(0,i.jsx)(n.li,{children:"\u672a\u542f\u7528\u65f6\u6ca1\u6709\u53ef\u8861\u91cf\u7684\u6027\u80fd\u5f00\u9500"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u529f\u80fd\u4f7f\u7528",children:"\u529f\u80fd\u4f7f\u7528"}),"\n",(0,i.jsx)(n.p,{children:"\u76f8\u5173\u6a21\u5757\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"jdk.jfr\uff1a\u76f8\u5173API"}),"\n",(0,i.jsx)(n.li,{children:"jdk.management.jfr\uff1a for JMX\u7ba1\u7406"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u98de\u884c\u8bb0\u5f55\u5668\u5728Java11\u7684\u542f\u52a8\u65b9\u5f0f\uff1a",(0,i.jsx)(n.code,{children:" java -XX:StartFlightRecording ..."}),"\n\u6216\u901a\u8fc7jcmd\u7684JFR\u547d\u4ee4\u6765\u6309\u9700\u4ea7\u751fprofiling\u3002"]}),"\n",(0,i.jsx)(n.h4,{id:"jmc\u5206\u6790jfr\u6587\u4ef6",children:"jmc\u5206\u6790jfr\u6587\u4ef6"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"JMC_analysis_jfrfile.png",src:a(4925).A+"",width:"1866",height:"1053"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6211\u4eec\u80fd\u591f\u901a\u8fc7jcmd\u6765\u751f\u6210.jfr\u6587\u4ef6\uff0c\u5e76\u901a\u8fc7JMC\u5206\u6790\u3002\n\u73b0\u5728Java11\u4e0d\u63d0\u4f9bJMC\u4e86\uff0c\u53ef\u4ee5\u81ea\u884c\u5b89\u88c5\uff1a",(0,i.jsx)(n.a,{href:"https://jdk.java.net/jmc/8/",children:"jmc release|java.net"})]}),"\n",(0,i.jsx)(n.h4,{id:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u53ca\u5206\u6790",children:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u53ca\u5206\u6790"}),"\n",(0,i.jsx)(n.p,{children:"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7API\u8bb0\u5f55\u548c\u6d88\u8d39\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'//\u7ee7\u627f\u5e76\u5b9a\u4e49\u4e8b\u4ef6\n@Label("Hello World")\n@Description("Helps the programmer getting started")\nclass HelloWorld extends Event {\n    @Label("Message")\n    String message;\n}\n\n//\u63d0\u4ea4\u4e8b\u4ef6\nHelloWorld event = new HelloWorld();\nevent.message = "hello, world!";\nevent.commit();\n\n\n//\u6d88\u8d39\u5e76\u8f93\u51fa\nPath p = Paths.get("/home/teaho/IdeaProjects/java11-feature-learning/java11/recording.jfr");\nfor (RecordedEvent e : RecordingFile.readAllEvents(p)) {\n    try {\n        System.out.println(e.getStartTime() + " : " + e.getValue("message"));\n    } catch (Exception ex) {\n        //do nothing\n    }\n}\n\n> 2021-08-31T08:29:38.948915253Z : hello, world!\n\n'})}),"\n",(0,i.jsx)(n.h2,{id:"330-launch-single-file-source-code-programs-\u8fd0\u884c\u5355\u6587\u4ef6\u7a0b\u5e8f",children:"330: Launch Single-File Source-Code Programs \uff08\u8fd0\u884c\u5355\u6587\u4ef6\u7a0b\u5e8f\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u5bf9\u4e8e\u5982\u4e0b\u8be5\u4ee3\u7801\uff0c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'public class Main {\n\n    public static void main(String[] args) {\n        System.out.println("hey yo! This is JEP 330 represented.");\n    }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u4ee5\u5f80\u6211\u4eec\u9700\u8981\u5982\u6b64\u6267\u884c\u8be5\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\njavac Main.java\njava Main\n\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u73b0\u5728\u5982\u6b64\u5373\u53ef\u6267\u884c\uff1a\n",(0,i.jsx)(n.img,{src:a(7970).A+"",width:"2038",height:"74"})]}),"\n",(0,i.jsx)(n.p,{children:"btw,\u901a\u8fc7shebang\u6267\u884c\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'\n#!/home/teaho/Env/jdk-11/bin/java --source 11\npublic class SheBang {\n\n    public static void main(String[] args) {\n\n        System.out.println("hey yo! This is JEP 330 represented.");\n\n    }\n}\n\n'})}),"\n",(0,i.jsx)(n.h2,{id:"329-chacha20-and-poly1305-cryptographic-algorithms",children:"329: ChaCha20 and Poly1305 Cryptographic Algorithms"}),"\n",(0,i.jsx)(n.p,{children:"Java 11 \u63d0\u4f9b\u4e86 ChaCha20 \u548c ChaCha20-Poly1305 \u52a0\u5bc6\u5b9e\u73b0\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"331-low-overhead-heap-profiling\u4f4e\u5f00\u9500\u7684\u5806profiling",children:"331: Low-Overhead Heap Profiling\uff08\u4f4e\u5f00\u9500\u7684\u5806profiling\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u63d0\u4f9b\u4e00\u79cd\u4f4e\u5f00\u9500\u7684Java\u5806\u5206\u914d\u91c7\u6837(Profiling)\u65b9\u5f0f\uff0c\u53ef\u901a\u8fc7JVMTI(Java Tool Interface)\u8bbf\u95ee\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u7528\u6237\u975e\u5e38\u9700\u8981\u4e86\u89e3\u5176\u5806\u7684\u5185\u5bb9\u3002\u6240\u4ee5\u6709\u5f88\u591a\u5de5\u5177\u88ab\u5f00\u53d1\u51fa\u6765\uff0c\u6bd4\u5982JFR\uff0cjmap\uff0cVisualVM Tool\u3002",(0,i.jsx)(n.br,{}),"\n","\u4f46\u5927\u591a\u6570\u73b0\u6709\u5de5\u5177\u90fd\u7f3a\u5c11\u7684\u4e00\u79cd\u4fe1\u606f\u662f\u5bf9\u4e8e\u7279\u5b9a\u6216\u6307\u5b9a\u5185\u5b58\u5206\u914d\u7684\u8c03\u7528\u8def\u5f84\uff08call site\uff09\u3002\u5806dump\u662f\u6ca1\u6709\u643a\u5e26\u8fd9\u4e00\u7c7b\u4fe1\u606f\u7684\u3002\n\u8fd9\u79cd\u4fe1\u606f\u5bf9\u4e8e\u5f00\u53d1\u8005\u6765\u8bf4\u6709\u4e3a\u91cd\u8981\uff0c\u5c24\u5176\u662f\u5728\u5b9a\u4f4d\u5728\u4e00\u4e2a\u7cdf\u7cd5\u7684\u5206\u914d\u5728\u4ee3\u7801\u4e2d\u7684\u6307\u5b9a\u4f4d\u7f6e\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u83b7\u53d6\u5230\u8fd9\u4e9b\u4fe1\u606f\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b57\u8282\u7801\u91cd\u5199\u5668\uff08\u4f8b\u5982 ",(0,i.jsx)(n.a,{href:"https://github.com/google/allocation-instrumenter",children:"Allocation Instrumenter|github"})," \uff09\u6765\u68c0\u6d4b\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6240\u6709\u5206\u914d\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u901a\u8fc7Java\u98de\u884c\u6536\u96c6\u5668\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"333-zgc-a-scalable-low-latency-garbage-collector-experimental",children:"333: ZGC: A Scalable Low-Latency Garbage Collector (Experimental)"}),"\n",(0,i.jsx)(n.p,{children:"\u4e07\u4f17\u671f\u5f85\u7684ZGC\u51fa\u6765\u4e86\uff5e\u5f53\u7136\u76ee\u524d\u662f\u5b9e\u9a8c\u6027\u7279\u6027\uff0cJava15\u624d\u6700\u7ec8\u4e3a\u751f\u4ea7\u5c31\u7eea\u3002"}),"\n",(0,i.jsx)(n.p,{children:"ZGC\u662f\u4e00\u4e2a\u4f4e\u5ef6\u8fdf\u53ef\u62d3\u5c55\u5783\u573e\u6536\u96c6\u5668\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u8bbe\u8ba1\u76ee\u6807\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"GC\u6682\u505c\u65f6\u95f4\u4e0d\u8d85\u8fc710ms"}),"\n",(0,i.jsx)(n.li,{children:"\u5904\u7406\u4ece\u76f8\u5bf9\u8f83\u5c0f\uff08\u51e0\u767e\u5146\u5b57\u8282\uff09\u5230\u975e\u5e38\u5927\uff08\u8bb8\u591a TB\uff09(8mb~16TB)\u7684\u5806"}),"\n",(0,i.jsx)(n.li,{children:"\u4e0e\u4f7f\u7528 G1 \u76f8\u6bd4\uff0c\u5e94\u7528\u7a0b\u5e8f\u541e\u5410\u91cf\u964d\u4f4e\u4e0d\u8d85\u8fc7 15%"}),"\n",(0,i.jsx)(n.li,{children:"\u5229\u7528colored pointers\u548cload barriers\u4e3a\u672a\u6765\u7684 GC \u529f\u80fd\u548c\u4f18\u5316\u5960\u5b9a\u57fa\u7840"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u548b\u4e00\u770b\uff0cZGC\u662f\u4e00\u4e2a\u5e76\u53d1\u3001\u5355\u4ee3\u3001\u57fa\u4e8e\u533a\u57df\uff08region-base\uff09\u3001NUMA\u611f\u77e5\u7684\u538b\u7f29\u6536\u96c6\u5668\u3002STW\u4ec5\u9650\u4e8e\u8ddf\u626b\u63cf\uff0c\n\u56e0\u6b64GC\u6682\u505c\u65f6\u95f4\u4e0d\u4f1a\u968f\u7740\u5806\u6216live set\u7684\u5927\u5c0f\u800c\u589e\u52a0\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u529f\u80fd\u4f7f\u7528-1",children:"\u529f\u80fd\u4f7f\u7528"}),"\n",(0,i.jsx)(n.p,{children:"\u901a\u8fc7\u5982\u4e0bJVM\u53c2\u6570\u542f\u7528\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"-XX:+UnlockExperimentalVMOptions -XX:+UseZGC\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u6027\u80fd\u8868\u73b0",children:"\u6027\u80fd\u8868\u73b0"}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u662fJDK\u9879\u76ee\u7ec4\u4f7f\u7528SPECjbb\xae 2015\u505a\u7684\u6027\u80fd\u6d4b\u8bd5\uff0c\u7528\u7684128G\u5806\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u7b2c\u4e00\u4e2a\u662f\u541e\u5410\u91cf\u6d4b\u8bd5\u6570\u636e\uff0cmax jops\u4e3a\u7eaf\u541e\u5410\u91cf\u91cf\uff0ccritical jops\u4e3a\u9650\u5236\u54cd\u5e94\u65f6\u95f4\u4e0b\u7684\u541e\u5410\u91cf\u91cf\u3002"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["ZGC",(0,i.jsx)(n.br,{}),"\n","max-jOPS: 100%",(0,i.jsx)(n.br,{}),"\n","critical-jOPS: 76.1%"]}),"\n",(0,i.jsxs)(n.li,{children:["G1",(0,i.jsx)(n.br,{}),"\n","max-jOPS: 91.2%",(0,i.jsx)(n.br,{}),"\n","critical-jOPS: 54.7%"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u4e0b\u9762\u662f\u5ef6\u65f6\u6d4b\u8bd5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["ZGC",(0,i.jsx)(n.br,{}),"\n","avg: 1.091ms (+/-0.215ms)",(0,i.jsx)(n.br,{}),"\n","95th percentile: 1.380ms",(0,i.jsx)(n.br,{}),"\n","99th percentile: 1.512ms",(0,i.jsx)(n.br,{}),"\n","99.9th percentile: 1.663ms",(0,i.jsx)(n.br,{}),"\n","99.99th percentile: 1.681ms",(0,i.jsx)(n.br,{}),"\n","max: 1.681ms"]}),"\n",(0,i.jsxs)(n.li,{children:["G1",(0,i.jsx)(n.br,{}),"\n","avg: 156.806ms (+/-71.126ms)",(0,i.jsx)(n.br,{}),"\n","95th percentile: 316.672ms",(0,i.jsx)(n.br,{}),"\n","99th percentile: 428.095ms",(0,i.jsx)(n.br,{}),"\n","99.9th percentile: 543.846ms",(0,i.jsx)(n.br,{}),"\n","99.99th percentile: 543.846ms",(0,i.jsx)(n.br,{}),"\n","max: 543.846ms"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u7f3a\u70b9\u5c40\u9650\u6027",children:"\u7f3a\u70b9\uff08\u5c40\u9650\u6027\uff09"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u76ee\u524dZGC\u4e3a\u5b9e\u9a8c\u7248\u672c\uff0c\u8be5\u7248\u672c\u4e0d\u652f\u6301\u7c7b\u5378\u8f7d\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u4e0d\u652f\u6301JVMCI\uff08Java-Level JVM Compiler Interface\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u8fd9\u4e9b\u5c06\u5728\u540e\u7eed\u7248\u672c\u7684\u5f00\u53d1\u4e2d\u652f\u6301\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8fd0\u884c\u539f\u7406",children:"\u8fd0\u884c\u539f\u7406"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"ZGC_phase.jpg",src:a(1771).A+"",width:"772",height:"411"})}),"\n",(0,i.jsxs)(n.p,{children:["ZGC\u53ea\u6709\u4e09\u4e2aSTW\u9636\u6bb5\uff1a\u521d\u59cb\u6807\u8bb0\uff0c\u518d\u6807\u8bb0\uff0c\u521d\u59cb\u8f6c\u79fb\u3002\u5176\u4e2d\uff0c\u521d\u59cb\u6807\u8bb0\u548c\u521d\u59cb\u8f6c\u79fb\u5206\u522b\u90fd\u53ea\u9700\u8981\u626b\u63cf\u6240\u6709GC Roots\uff0c\u5176\u5904\u7406\u65f6\u95f4\u548cGC Roots\u7684\u6570\u91cf\u6210\u6b63\u6bd4\uff0c\u4e00\u822c\u60c5\u51b5\u8017\u65f6\u975e\u5e38\u77ed\uff1b",(0,i.jsx)(n.br,{}),"\n","\u518d\u6807\u8bb0\u9636\u6bb5STW\u65f6\u95f4\u5f88\u77ed\uff0c\u6700\u591a1ms\uff0c\u8d85\u8fc71ms\u5219\u518d\u6b21\u8fdb\u5165\u5e76\u53d1\u6807\u8bb0\u9636\u6bb5\u3002\u5373\uff0cZGC\u51e0\u4e4e\u6240\u6709\u6682\u505c\u90fd\u53ea\u4f9d\u8d56\u4e8eGC Roots\u96c6\u5408\u5927\u5c0f\uff0c\u505c\u987f\u65f6\u95f4\u4e0d\u4f1a\u968f\u7740\u5806\u7684\u5927\u5c0f\u6216\u8005\u6d3b\u8dc3\u5bf9\u8c61\u7684\u5927\u5c0f\u800c\u589e\u52a0\u3002\n\u4e0eZGC\u5bf9\u6bd4\uff0cG1\u7684\u8f6c\u79fb\u9636\u6bb5\u5b8c\u5168STW\u7684\uff0c\u4e14\u505c\u987f\u65f6\u95f4\u968f\u5b58\u6d3b\u5bf9\u8c61\u7684\u5927\u5c0f\u589e\u52a0\u800c\u589e\u52a0\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u89e3\u51b3\u8f6c\u79fb\u671f\u95f4\u5bf9\u8c61\u8bbf\u95ee\u7684\u4e24\u4e2a\u6838\u5fc3\u6280\u672f\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u7740\u8272\u6307\u9488",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.img,{alt:"zgc_color_pointer",src:a(3301).A+"",width:"1269",height:"374"}),(0,i.jsx)(n.br,{}),"\n","\u5bf9\u4e8e 64bit \u7684\u7cfb\u7edf\uff0c\u9ad8\u4f4d bit \u4e2d\u62ff\u51fa 4 \u4e2a bit \u6765\u6307\u793a\u4e0d\u540c\u7684\u5904\u7406\u72b6\u6001\uff0c\u4e24\u4e2a Mark \u4f4d\u8868\u660e\u8be5\u5bf9\u8c61\u6307\u9488\u662f\u5426\u5df2\u7ecf\u88ab\u6807\u8bb0\uff0c\u91c7\u7528\u4e24\u4e2a Mark bit \u53ef\u4ee5\u5728\u524d\u540e\u4e0d\u540c\u7684 GC \u65f6\u4f7f\u7528\u4e0d\u540c\u7684 Mark bit\uff1b\nRemapped \u4f4d\u8868\u793a\u5f53\u524d\u5bf9\u8c61\u6307\u9488\u662f\u5426\u5df2\u7ecf\u8c03\u6574\u4e3a\u642c\u79fb\u4e4b\u540e\u7684\u5bf9\u8c61\u6307\u9488\uff1bFinalizable \u4f4d\u4e3b\u8981\u662f\u4e3a Finalizable \u5bf9\u8c61\u670d\u52a1\uff0c\u7528\u6765\u8868\u793a\u8be5\u5bf9\u8c61\u6307\u9488\u662f\u5426\u4ec5\u7ecf Finalize \u5bf9\u8c61\u6807\u8bb0\uff0c\u4e3b\u8981\u4f9b Mark \u9636\u6bb5\u548c\u5f31\u5f15\u7528\u5904\u7406\u9636\u6bb5\u4f7f\u7528\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u8bfb\u5c4f\u969c",(0,i.jsx)(n.br,{}),"\n","\u8bfb\u5c4f\u969c\u662fJVM\u5411\u5e94\u7528\u4ee3\u7801\u63d2\u5165\u4e00\u5c0f\u6bb5\u4ee3\u7801\u7684\u6280\u672f\u3002\u5f53\u5e94\u7528\u7ebf\u7a0b\u4ece\u5806\u4e2d\u8bfb\u53d6\u5bf9\u8c61\u5f15\u7528\u65f6\uff0c\u5c31\u4f1a\u6267\u884c\u8fd9\u6bb5\u4ee3\u7801\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4ec5\u201c\u4ece\u5806\u4e2d\u8bfb\u53d6\u5bf9\u8c61\u5f15\u7528\u201d\u624d\u4f1a\u89e6\u53d1\u8fd9\u6bb5\u4ee3\u7801\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Object o = obj.FieldA   // \u4ece\u5806\u4e2d\u8bfb\u53d6\u5f15\u7528\uff0c\u9700\u8981\u52a0\u5165\u5c4f\u969c\n<Load barrier>\nObject p = o  // \u65e0\u9700\u52a0\u5165\u5c4f\u969c\uff0c\u56e0\u4e3a\u4e0d\u662f\u4ece\u5806\u4e2d\u8bfb\u53d6\u5f15\u7528\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u914d\u7f6e\u53c2\u6570",children:"\u914d\u7f6e\u53c2\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u91cd\u8981\u53c2\u6570\u914d\u7f6e\u6837\u4f8b\uff1a\n-Xms10G -Xmx10G \n-XX:ReservedCodeCacheSize=256m -XX:InitialCodeCacheSize=256m \n-XX:+UnlockExperimentalVMOptions -XX:+UseZGC \n-XX:ConcGCThreads=2 -XX:ParallelGCThreads=6 \n-XX:ZCollectionInterval=120 -XX:ZAllocationSpikeTolerance=5 \n-XX:+UnlockDiagnosticVMOptions -XX:-ZProactive \n-Xlog:safepoint,classhisto*=trace,age*,gc*=info:file=/opt/logs/logs/gc-%t.log:time,tid,tags:filecount=5,filesize=50m \n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-Xms -Xmx\uff1a\u5806\u7684\u6700\u5927\u5185\u5b58\u548c\u6700\u5c0f\u5185\u5b58\uff0c\u8fd9\u91cc\u90fd\u8bbe\u7f6e\u4e3a10G\uff0c\u7a0b\u5e8f\u7684\u5806\u5185\u5b58\u5c06\u4fdd\u630110G\u4e0d\u53d8\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["-XX",":ReservedCodeCacheSize"," -XX",":InitialCodeCacheSize","\uff1a\u8bbe\u7f6eCodeCache\u7684\u5927\u5c0f\uff0c JIT\u7f16\u8bd1\u7684\u4ee3\u7801\u90fd\u653e\u5728CodeCache\u4e2d\uff0c\u4e00\u822c\u670d\u52a164m\u6216128m\u5c31\u5df2\u7ecf\u8db3\u591f\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"-XX:+UnlockExperimentalVMOptions -XX:+UseZGC\uff1a\u542f\u7528ZGC\u7684\u914d\u7f6e\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["-XX",":ConcGCThreads","\uff1a\u5e76\u53d1\u56de\u6536\u5783\u573e\u7684\u7ebf\u7a0b\u3002\u9ed8\u8ba4\u662f\u603b\u6838\u6570\u768412.5%\uff0c8\u6838CPU\u9ed8\u8ba4\u662f1\u3002\u8c03\u5927\u540eGC\u53d8\u5feb\uff0c\u4f46\u4f1a\u5360\u7528\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684CPU\u8d44\u6e90\uff0c\u541e\u5410\u4f1a\u53d7\u5230\u5f71\u54cd\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["-XX",":ParallelGCThreads","\uff1aSTW\u9636\u6bb5\u4f7f\u7528\u7ebf\u7a0b\u6570\uff0c\u9ed8\u8ba4\u662f\u603b\u6838\u6570\u768460%\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["-XX",":ZCollectionInterval","\uff1aZGC\u53d1\u751f\u7684\u6700\u5c0f\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\u79d2\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["-XX",":ZAllocationSpikeTolerance","\uff1aZGC\u89e6\u53d1\u81ea\u9002\u5e94\u7b97\u6cd5\u7684\u4fee\u6b63\u7cfb\u6570\uff0c\u9ed8\u8ba42\uff0c\u6570\u503c\u8d8a\u5927\uff0c\u8d8a\u65e9\u7684\u89e6\u53d1ZGC\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"-XX:+UnlockDiagnosticVMOptions -XX:-ZProactive\uff1a\u662f\u5426\u542f\u7528\u4e3b\u52a8\u56de\u6536\uff0c\u9ed8\u8ba4\u5f00\u542f\uff0c\u8fd9\u91cc\u7684\u914d\u7f6e\u8868\u793a\u5173\u95ed\u3002"}),"\n",(0,i.jsx)(n.li,{children:"-Xlog\uff1a\u8bbe\u7f6eGC\u65e5\u5fd7\u4e2d\u7684\u5185\u5bb9\u3001\u683c\u5f0f\u3001\u4f4d\u7f6e\u4ee5\u53ca\u6bcf\u4e2a\u65e5\u5fd7\u7684\u5927\u5c0f\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"332-transport-layer-security-tls-13",children:"332: Transport Layer Security (TLS) 1.3"}),"\n",(0,i.jsx)(n.p,{children:"\u5b9e\u73b0\u4f20\u8f93\u5c42\u5b89\u5168 (TLS) \u534f\u8bae RFC 8446 \u7684 1.3 \u7248\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"335-deprecate-the-nashorn-javascript-engine",children:"335: Deprecate the Nashorn JavaScript Engine"}),"\n",(0,i.jsxs)(n.p,{children:["Nashorn\u662fJava\u5f15\u5165\u7684JavaScript\u5f15\u64ce\u3002",(0,i.jsx)(n.br,{}),"\n","\u7531\u4e8eECMAScript\u7684\u8bed\u8a00\u7ed3\u6784\u548cAPi\u5feb\u901f\u53d1\u5c55\uff0c\u4f7f\u5f97\u8be5\u5f15\u64ce\u96be\u4ee5\u7ef4\u62a4\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"336-deprecate-the-pack200-tools-and-api",children:"336: Deprecate the Pack200 Tools and API"}),"\n",(0,i.jsx)(n.p,{children:"\u4e00\u4e2a\u6253\u5305\u538b\u7f29\u5de5\u5177\uff0c\u56e0\u4e3a\u5404\u79cd\u5386\u53f2\u539f\u56e0\u548c\u53d1\u5c55\u539f\u56e0\u5f03\u7528\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"api\u53d8\u66f4",children:"API\u53d8\u66f4"}),"\n",(0,i.jsxs)(n.p,{children:["Java11\u7684API\u5f03\u7528\u548c\u79fb\u9664\u6e05\u5355\u53ef\u4ee5\u5728\u8fd9\u91cc\u770b\u5230:\n",(0,i.jsx)(n.a,{href:"https://cr.openjdk.java.net/~iris/se/11/latestSpec/#APIs-removed",children:"API removed|Java SE 11 Final Release Spec"})]}),"\n",(0,i.jsxs)(n.p,{children:["Java11\u7684API\u53d8\u52a8\uff08\u66f4\u6539\u3001\u589e\u52a0\u3001\u5220\u9664\uff09\uff1a\n",(0,i.jsx)(n.a,{href:"https://cr.openjdk.java.net/~iris/se/11/latestSpec/apidiffs/overview-summary.html",children:"Diff between Java 10 and Java11 API|Java.net"})]}),"\n",(0,i.jsx)(n.p,{children:"\u4e0b\u9762\u770b\u770b\u4e00\u4e9b\u5e38\u7528\u66f4\u6539\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"javalangstring",children:"java.lang.String"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'    /**\n     * for java.lang.String\n     */\n    @Test\n    public void testStringNewAPI() {\n\n        assertThat("".isBlank(), equalTo(true));\n        assertThat("   ".isBlank(), equalTo(true));\n        assertThat("11".isBlank(), equalTo(false));\n\n        assertThat(("abc\\n" + "abc\\n")\n            .lines()\n            .count(), equalTo(2L));\n\n        assertThat("abc".repeat(2), equalTo("abcabc"));\n        assertThat("  a b c  ".strip(), equalTo("a b c"));\n        assertThat("  a b c  ".stripLeading(), equalTo("a b c  "));\n        assertThat("  a b c  ".stripTrailing(), equalTo("  a b c"));\n\n    }\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u7b80\u5355\u7684\u6587\u4ef6\u8bfb\u53d6",children:"\u7b80\u5355\u7684\u6587\u4ef6\u8bfb\u53d6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'    @Test\n    public void testFilesIOString() throws IOException {\n        String content = "Hey this is tmp file!";\n        Path path = Files.writeString(Files.createTempFile("tmp" + LocalTime.now(), ".txt"), content);\n        String fileContent = Files.readString(path);\n        assertThat("Str not eq!", fileContent, equalTo(content));\n\n    }\n'})}),"\n",(0,i.jsx)(n.h2,{id:"java10\u540c\u573a\u52a0\u6620",children:"JAVA10\u540c\u573a\u52a0\u6620"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"286: Local-Variable Type Inference\uff08\u672c\u5730\u53d8\u91cf\u7c7b\u578b\u63a8\u65ad\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"286-local-variable-type-inference\u672c\u5730\u53d8\u91cf\u7c7b\u578b\u63a8\u65ad",children:"286: Local-Variable Type Inference\uff08\u672c\u5730\u53d8\u91cf\u7c7b\u578b\u63a8\u65ad\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u4e0a\u9762JEP323\u4e00\u8282\u5df2\u5bf9\u8be5\u7279\u6027\u505a\u4e86\u9648\u8ff0\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"api\u53d8\u66f4-1",children:"API\u53d8\u66f4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\n    /**\n     * java.util.List\u3001java.util.Map \u548c java.util.Set \u90fd\u6709\u4e86\u4e00\u4e2a\u65b0\u7684\u9759\u6001\u65b9\u6cd5 copyOf(Collection)\u3002\n     *\n     * copyOf\n     */\n    @Test\n    public void testCopyOf() {\n\n        {\n            var list = new ArrayList<Item>();\n            list.add(new Item(1));\n            list.add(new Item(2));\n            var copyList = List.copyOf(list);\n            assertThat(copyList.get(0), equalTo(list.get(0)));\n            assertThat(copyList.get(1), equalTo(list.get(1)));\n            assertThat(Utils.exceptionOf(() -> copyList.add(new Item(3))), instanceOf(UnsupportedOperationException.class));\n\n        }\n\n        {\n            var list = new ArrayList<Item>();\n            list.add(new Item(1));\n            list.add(new Item(2));\n            List copyList = List.copyOf(list);\n            assertThat(copyList.get(0), equalTo(list.get(0)));\n            assertThat(copyList.get(1), equalTo(list.get(1)));\n        }\n\n        {\n            var map = Map.of(new Item(1), 1, new Item(2), 2, new Item(3), 3);\n            var copyMap = Map.copyOf(map);\n            assertThat(map.equals(copyMap), equalTo(true));\n            assertThat(Utils.exceptionOf(()-> copyMap.put(new Item(Integer.MAX_VALUE), Integer.MAX_VALUE)), instanceOf(UnsupportedOperationException.class));\n        }\n\n        {\n            var set = Set.of(new Item(1), new Item(2), new Item(3));\n            var copySet = Set.copyOf(set);\n            assertThat(set.equals(copySet), equalTo(true));\n            assertThat(Utils.exceptionOf(()-> copySet.add(new Item(4))), instanceOf(UnsupportedOperationException.class));\n        }\n\n    }\n\n    /**\n     * Collectors\u52a0\u4e86\u4e00\u4e2a\u8f6c\u6362\u4e3a\u4e0d\u53ef\u53d8\u5217\u8868\u7684API\n     *\n     * stream toUnmodifiableList\n     */\n    @Test(expected = UnsupportedOperationException.class)\n    public void whenModifyToUnmodifiableList_thenThrowsException() {\n        List<Integer> list = Stream.of(1, 2, 3)\n            .filter(i -> i % 2 == 0)\n            .collect(Collectors.toUnmodifiableList());\n    }\n\n    /**\n     * optional \u589e\u52a0\u4e86 \u7a7a\u7684orElseThrow \u65b9\u6cd5\n     */\n    @Test\n    public void testOptional_orElseThrow() {\n\n        Optional.of(1).orElseThrow();\n        assertThat(Utils.exceptionOf(() -> Optional.empty().orElseThrow()), instanceOf(NoSuchElementException.class));\n\n    }\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"java9\u540c\u573a\u52a0\u6620\u672a\u5b8c\u6210",children:"JAVA9\u540c\u573a\u52a0\u6620(\u672a\u5b8c\u6210)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"222: jshell: The Java Shell (Read-Eval-Print Loop)"}),"\n",(0,i.jsx)(n.li,{children:"261: Module System(\u6a21\u5757\u7cfb\u7edf)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"222-jshell-the-java-shell-read-eval-print-loop",children:"222: jshell: The Java Shell (Read-Eval-Print Loop)"}),"\n",(0,i.jsxs)(n.p,{children:["Java9\u63d0\u4f9b\u4ea4\u4e92\u5f0f\u5de5\u5177\u6765\u8bc4\u4f30\u4f7f\u7528Java\u7f16\u7a0b\u8bed\u8a00\u7684\u58f0\u660e\u3001\u8bed\u53e5\u548c\u8868\u8fbe\u5f0f\uff0c",(0,i.jsx)(n.br,{}),"\n","\u4ee5\u53ca\u63d0\u4f9b\u4e86JShell API\u4ee5\u4fbf\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5229\u7528\u6b64\u529f\u80fd\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://cr.openjdk.java.net/~rfield/tutorial/JShellTutorial.html",children:"JShell Tutorial"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.a,{href:"https://docs.oracle.com/javase/9/tools/jshell.htm#JSWOR-GUID-C337353B-074A-431C-993F-60C226163F00",children:"jshell|Java Platform, Standard Edition Tools Reference"})]}),"\n",(0,i.jsx)(n.h4,{id:"\u4e00\u822c\u4f7f\u7528",children:"\u4e00\u822c\u4f7f\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'\njshell> /list\n\n   2 : a instanceof java.lang.String\n   3 : a instanceof java.lang.String\n   5 : String getStr() {\n       return "abc";\n       }\n   6 : String a = "abc";\n\njshell> /imports\n|    import java.io.*\n|    import java.math.*\n|    import java.net.*\n|    import java.nio.file.*\n|    import java.util.*\n|    import java.util.concurrent.*\n|    import java.util.function.*\n|    import java.util.prefs.*\n|    import java.util.regex.*\n|    import java.util.stream.*\n\njshell> /vars\n|    boolean $2 = true\n|    boolean $3 = true\n|    String a = "abc"\n\njshell> String getStr() {\n   ...> return "a";\n   ...> }\n|  \u5df2\u4fee\u6539 \u65b9\u6cd5 getStr()\n\njshell> System.out.println(getStr());\na\n\n\n'})}),"\n",(0,i.jsx)(n.h4,{id:"api\u4f7f\u7528",children:"API\u4f7f\u7528"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'JShell shell = JShell.create();\nshell.onShutdown(jShell -> System.out.println("bye bye"));\n\nBufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\nwhile (true) {\n    System.out.print("\\n> ");\n    try {\n        String cmd = reader.readLine();\n        List<SnippetEvent> results = shell.eval(cmd);\n        for (SnippetEvent e : results) {\n            if (!e.status().isActive() && !e.status().isDefined()) {\n                shell.diagnostics(e.snippet()).forEach(diag -> System.out.println(diag.getMessage(Locale.CHINA)));\n                System.out.println(e.status());\n            } else if (e.exception() != null) {\n                System.out.println("< " + e.exception());\n            } else {\n                System.out.println(e.value());\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u8f93\u51fa\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'\n> String s = "abc";\n"abc"\n\n> var a = "a";\n\u627e\u4e0d\u5230\u7b26\u53f7\n  \u7b26\u53f7:   \u7c7b var\n  \u4f4d\u7f6e: \u7c7b \nREJECTED\n\n> System.out.println(s);\nabc\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u5176\u4ed6\u53d8\u66f4",children:"\u5176\u4ed6\u53d8\u66f4"}),"\n",(0,i.jsx)(n.h4,{id:"flow--api",children:"Flow  API"}),"\n",(0,i.jsx)(n.p,{children:"\u4ee5\u524d\u6709\u5199\u8fc7\u4e00\u7bc7Project Reactor\u7684\u539f\u7406\u5256\u6790[24]\uff0c\u539f\u7406\u4e0a\u4e8c\u8005\u662f\u76f8\u901a\u7684\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"reference",children:"reference"}),"\n",(0,i.jsxs)(n.p,{children:["[1]",(0,i.jsx)(n.a,{href:"https://openjdk.java.net/projects/jdk/11/",children:"JDK 11|java.net"}),(0,i.jsx)(n.br,{}),"\n","[2]",(0,i.jsx)(n.a,{href:"https://cloud.tencent.com/developer/article/1590566",children:"\u3010\u662f\u65f6\u5019\u5347\u7ea7java11\u4e86\u3011 jdk11\u4f18\u52bf\u548cjdk\u9009\u62e9"}),(0,i.jsx)(n.br,{}),"\n","[3]",(0,i.jsx)(n.a,{href:"https://zhuanlan.zhihu.com/p/94459000",children:"JAVA11\u5230\u5e95\u6709\u591a\u5f3a\uff0c\u4e0d\u770b\u4f60\u5c31out\u4e86|zhihu"}),(0,i.jsx)(n.br,{}),"\n","[4]",(0,i.jsx)(n.a,{href:"http://unicode.org/versions/Unicode10.0.0/",children:"unicode10|unicode.org"}),(0,i.jsx)(n.br,{}),"\n","[5]",(0,i.jsx)(n.a,{href:"http://unicode.org/reports/tr51/proposed.html",children:"Proposed Update Unicode\xae Technical Standard #51"}),(0,i.jsx)(n.br,{}),"\n","[6]",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Script_(Unicode)",children:"Script(Unicode)|wikipedia"}),(0,i.jsx)(n.br,{}),"\n","[7]",(0,i.jsx)(n.a,{href:"https://www.wmyskxz.com/2020/08/22/java11-ban-ben-te-xing-xiang-jie/",children:"Java11\u7248\u672c\u7279\u6027\u8be6\u89e3"}),(0,i.jsx)(n.br,{}),"\n","[8]",(0,i.jsx)(n.a,{href:"https://docs.oracle.com/en/java/javase/11/index.html",children:"JDK 11 Documentation|oracle"}),(0,i.jsx)(n.br,{}),"\n","[9]",(0,i.jsx)(n.a,{href:"https://www.wmyskxz.com/2020/08/20/java9-ban-ben-te-xing-xiang-jie/",children:"Java9\u7248\u672c\u7279\u6027\u8be6\u89e3"}),(0,i.jsx)(n.br,{}),"\n","[10]",(0,i.jsx)(n.a,{href:"https://juejin.cn/post/6844903685617614855",children:"java11\u65b0\u7279\u6027---Nest-Based Access Control(\u5d4c\u5957\u8bbf\u95ee\u63a7\u5236)|\u5b8b\u5175\u7532"}),(0,i.jsx)(n.br,{}),"\n","[11]",(0,i.jsx)(n.a,{href:"https://www.youtube.com/watch?v=7z_R2Aq-Fl8",children:"JDK11 - Introduction to JDK Flight Recorder|Java Community and Oracle|youtube"}),(0,i.jsx)(n.br,{}),"\n","[12]",(0,i.jsx)(n.a,{href:"https://www.youtube.com/watch?v=88E86quLmQA",children:"ZGC: The Next Generation Low-Latency Garbage Collector|Java Community and Oracle|youtube"}),(0,i.jsx)(n.br,{}),"\n","[13]",(0,i.jsx)(n.a,{href:"https://blog.caoxudong.info/blog/2017/12/07/jvmti_reference#1.6",children:"JVMTI \u53c2\u8003|javase8 jvmti\u6587\u6863\u7ffb\u8bd1"}),(0,i.jsx)(n.br,{}),"\n","[14]",(0,i.jsx)(n.a,{href:"https://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html",children:"JVMTM Tool Interface|oracle"}),(0,i.jsx)(n.br,{}),"\n","[15]",(0,i.jsx)(n.a,{href:"https://tech.meituan.com/2020/08/06/new-zgc-practice-in-meituan.html",children:"\u65b0\u4e00\u4ee3\u5783\u573e\u56de\u6536\u5668ZGC\u7684\u63a2\u7d22\u4e0e\u5b9e\u8df5|\u7f8e\u56e2\u6280\u672f\u56e2\u961f"}),(0,i.jsx)(n.br,{}),"\n","[16]",(0,i.jsx)(n.a,{href:"http://cr.openjdk.java.net/~pliden/slides/ZGC-PLMeetup-2019.pdf",children:"The Design of ZGC|Per Lid\xe9n (@perliden)Consulting Member of Technical Staff,Java Platform Group, Oracle"}),(0,i.jsx)(n.br,{}),"\n","[17]",(0,i.jsx)(n.a,{href:"https://wiki.openjdk.java.net/",children:"openjdk wiki"}),(0,i.jsx)(n.br,{}),"\n","[18]",(0,i.jsx)(n.a,{href:"https://cr.openjdk.java.net/~pliden/slides/ZGC-OracleDevLive-2020.pdf",children:"ZGC-OracleDevLive-2020.pdf|Java Platform Group"}),(0,i.jsx)(n.br,{}),"\n","[19]",(0,i.jsx)(n.a,{href:"https://www.infoq.cn/article/suthxzwaoeijigdp11bj",children:"Tencent Kona JDK11 \u65e0\u6682\u505c\u5185\u5b58\u7ba1\u7406 -ZGC \u751f\u4ea7\u5b9e\u8df5|InfoQ"}),(0,i.jsx)(n.br,{}),"\n","[20]",(0,i.jsx)(n.a,{href:"https://openjdk.java.net/projects/jdk9/",children:"JDK 9|java.net"}),(0,i.jsx)(n.br,{}),"\n","[21]",(0,i.jsx)(n.a,{href:"https://darian1996.github.io/2020/05/28/Java9-%E6%96%B0%E7%89%B9%E6%80%A7%E4%B9%8B%E6%A0%B8%E5%BF%83%E5%BA%93/",children:"Java 9 \u65b0\u7279\u6027\u4e4b\u6838\u5fc3\u5e93\uff08\u4e0a\uff09|darian1996"}),(0,i.jsx)(n.br,{}),"\n","[22]",(0,i.jsx)(n.a,{href:"https://darian1996.github.io/2020/05/27/Java9-%E6%A8%A1%E5%9D%97%E5%8C%96/",children:"Java9 \u6a21\u5757\u5316|darian1996"}),(0,i.jsx)(n.br,{}),"\n","[23]",(0,i.jsx)(n.a,{href:"http://cr.openjdk.java.net/~mr/jigsaw/spec/java-se-9-jls-diffs.pdf",children:"The Java\xae Language Specification|Java SE 9 Edition"}),(0,i.jsx)(n.br,{}),"\n","[24]",(0,i.jsx)(n.a,{href:"https://spring-source-code-learning.gitbook.teaho.net/webflux/project-reactor%E5%8E%9F%E7%90%86.html",children:"Project Reactor\u539f\u7406|teaho.net"})]}),"\n",(0,i.jsx)(n.p,{children:"\u5176\u4ed6\u53c2\u8003\uff1a"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://www.jdon.com/49683",children:"\u771f\u68d2\uff1a\u4f7f\u7528Java 11\u5b9e\u73b0\u5e94\u7528\u7684\u6a21\u5757\u5316|banq"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.a,{href:"https://juejin.cn/post/6844904002727968782",children:"\u672c\u6587\u5c06\u5e2e\u52a9\u4f60\u5982\u4f55\u5c06\u5e94\u7528\u7a0b\u5e8f\u4eceJava 8\u8fc1\u79fb\u5230java11\uff08\u7eaf\u5e72\u8d27\u5206\u4eab\uff09|\u7a0b\u5e8f\u733f\u963f\u6d10"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.a,{href:"https://cdmana.com/2021/06/20210610210415763m.html",children:"JDK8\u5347\u7ea7JDK11\u8fc7\u7a0b\u8bb0\u5f55|cdmana.com"})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},4925:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/JMC_analysis_jfrfile-543dc357da0509bd770cd88d332f4400.png"},1771:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/ZGC_phase-69978626f3477ff89f9d90543baab1cb.jpg"},7970:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/jep330-run-e630b53fca776f9b999163ae1db5a800.png"},9461:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/unicode10-a4c860997b0cee1f5dd3514658444298.png"},3301:(e,n,a)=>{a.d(n,{A:()=>i});const i=a.p+"assets/images/zgc_color_pointer-626ae0012c2a77a1e4ba8d694bc6ccf6.jpg"},1780:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>s});var i=a(9474);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);