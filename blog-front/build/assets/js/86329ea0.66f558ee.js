"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1331],{6604:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>o,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var r=t(3274),s=t(1780);const i={id:"transformer",slug:"/ai-arch/transformer",title:"transformer"},d=void 0,a={id:"ai-arch/alg/transformer",title:"transformer",description:"\u6ce8\u610f\u529b\u673a\u5236\uff08Attention\uff09",source:"@site/docs/ai-arch/alg/transformer.md",sourceDirName:"ai-arch/alg",slug:"/ai-arch/transformer",permalink:"/docs/ai-arch/transformer",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1740331944,formattedLastUpdatedAt:"Feb 23, 2025",frontMatter:{id:"transformer",slug:"/ai-arch/transformer",title:"transformer"},sidebar:"ai-arch",previous:{title:"\u6df1\u5ea6\u57fa\u7840",permalink:"/docs/ai-arch/dl-base"},next:{title:"LLM",permalink:"/docs/ai-arch/llm"}},l={},c=[{value:"\u6ce8\u610f\u529b\u673a\u5236\uff08Attention\uff09",id:"\u6ce8\u610f\u529b\u673a\u5236attention",level:2},{value:"Transformer\u6a21\u578b\u7ed3\u6784",id:"transformer\u6a21\u578b\u7ed3\u6784",level:2},{value:"\u601d\u8003",id:"\u601d\u8003",level:2},{value:"Reference",id:"reference",level:2}];function h(e){const n={a:"a",br:"br",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"\u6ce8\u610f\u529b\u673a\u5236attention",children:"\u6ce8\u610f\u529b\u673a\u5236\uff08Attention\uff09"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"encoder\u4e0edecoder\u6846\u67b6"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u79cd\u6846\u67b6\u63cf\u8ff0\u4e00\u79cd\u8f93\u5165\u8f93\u51fa\u7684\u5173\u7cfb\u3002\n\u6bd4\u5982\u5c06 \u6211(x1)\u662f(x2)\u8d85(x3)\u4eba(x4)\u8f93\u5165\uff0c\u8f93\u51fa\u662f i(y1) am(y2) superman(y3)\n\u5e38\u89c1\u7684\u5e94\u7528\u573a\u666f\u662f\uff0c\u6bd4\u5982google\u7ffb\u8bd1\u3002\n",(0,r.jsx)(n.img,{alt:"img.png",src:t(1978).A+"",width:"663",height:"211"})]}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Self attention"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u4e0a\u9762\u7684c\u4e0a\u505a\u5de5\u592b\u3002\n",(0,r.jsx)(n.img,{alt:"img.png",src:t(8539).A+"",width:"1258",height:"670"})]}),"\n",(0,r.jsx)(n.p,{children:"\u7b80\u5355\u6765\u8bf4\uff0c\u901a\u8fc7\u540c\u4e00\u8f93\u5165\u751f\u6210 Q/K/V\uff0c\u8ba1\u7b97\u6bcf\u4e2a\u4f4d\u7f6e\u5bf9\u5176\u4ed6\u4f4d\u7f6e\u7684\u6743\u91cd\uff0c\u6355\u6349\u957f\u8ddd\u79bb\u4f9d\u8d56\u3002\n\u591a\u5934\u6ce8\u610f\u529b\u5176\u5b9e\u5c31\u662f\u591a\u4e2aself-atention\uff08\u6743\u91cd\u77e9\u9635\u4e0d\u540c\uff09\u7ec4\u88c5\u8d77\u6765\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u6bcf\u5c42\u590d\u6742\u5ea6\u5bf9\u6bd4\uff08\u6458\u5f55\u81ea\u8bba\u6587\uff09\uff1a"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Layer Type"}),(0,r.jsx)(n.th,{children:"Complexity per Layer"}),(0,r.jsx)(n.th,{children:"Sequential Operations"}),(0,r.jsx)(n.th,{children:"Maximum Path Length"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Self-Attention"}),(0,r.jsx)(n.td,{children:"O\u2062(n2\u22c5d)"}),(0,r.jsx)(n.td,{children:"O\u2062(1)"}),(0,r.jsx)(n.td,{children:"O\u2062(1)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Recurrent"}),(0,r.jsx)(n.td,{children:"O\u2062(n\u22c5d2)"}),(0,r.jsx)(n.td,{children:"O\u2062(n)"}),(0,r.jsx)(n.td,{children:"O\u2062(n)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Convolutional"}),(0,r.jsx)(n.td,{children:"O\u2062(k\u22c5n\u22c5d2)"}),(0,r.jsx)(n.td,{children:"O\u2062(1)"}),(0,r.jsx)(n.td,{children:"O\u2062(l\u2062o\u2062gk\u2062(n))"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Self-Attention (restricted)"}),(0,r.jsx)(n.td,{children:"O\u2062(r\u22c5n\u22c5d)"}),(0,r.jsx)(n.td,{children:"O\u2062(1)"}),(0,r.jsx)(n.td,{children:"O\u2062(n/r)"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"transformer\u6a21\u578b\u7ed3\u6784",children:"Transformer\u6a21\u578b\u7ed3\u6784"}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u662f\u8bba\u6587\u7684\u7ed3\u6784\u56fe\u7247\uff1a\n",(0,r.jsx)(n.img,{alt:"img.png",src:t(1652).A+"",width:"868",height:"1280"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u91cc\u6839\u636e\u6211\u6574\u4f53\u7684\u7406\u89e3\u753b\u4e00\u4e0btransformer\u6a21\u578b\u5e72\u4e86\u4ec0\u4e48\uff1a\n",(0,r.jsx)(n.img,{alt:"img.png",src:t(231).A+"",width:"3054",height:"2210"})]}),"\n",(0,r.jsx)(n.h2,{id:"\u601d\u8003",children:"\u601d\u8003"}),"\n",(0,r.jsxs)(n.p,{children:["\u7ecf\u8fc7LLM\u7684\u5b9e\u8df5\uff0c\u5927\u6982transformer\u5df2\u7ecf\u8bc1\u660e\u4e86\u5176\u6a21\u578b\u7ed3\u6784\u7684\u4ef7\u503c\u3002\u548c\u4eba\u6bd4\u8d77\u6765\uff0c\u5f88\u591a\u65f6\u5019\u771f\u7684\u201d\u771f\u5047\u96be\u8fa8\u201c\u3002\u8bf4\u4e0d\u5b9a\u5b83\u8fd8\u6709\u90a3\u4e48\u51e0\u5206\u50cf\u4eba\u7684\u8ba4\u77e5\u6a21\u578b\u3002\u90a3\u4e48\u4ed6\u6709\u6ca1\u4f18\u5316\u7684\u5730\u65b9\u5462\uff1f",(0,r.jsx)(n.br,{}),"\n","\u5728\u6211\u770b\u6765\uff0c\u9664\u4e86\u6280\u672f\u4e0a\u600e\u4e48\u4f18\u5316KV\u7f13\u5b58\u3001\u600e\u4e48\u89e3\u51b3online learning\u7b49\uff0c\u7c7b\u6bd4\u8d77\u4eba\uff0c\u4e2a\u4eba\u89c9\u5f97\u7ed3\u6784\u4f9d\u7136\u6709\u8fd9\u4e9b\u95ee\u9898\u9700\u8981\u5904\u7406\uff1a"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u4e0d\u662f\u771f\u7684\u5177\u6709\u903b\u8f91\u63a8\u6f14\u80fd\u529b\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u57fa\u4e8e\u957f\u671f\u8bb0\u5fc6\u7684\u7075\u5149\u4e00\u73b0\uff08\u76f4\u89c9\uff09\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,r.jsxs)(n.p,{children:["[5]",(0,r.jsx)(n.a,{href:"https://arxiv.org/html/1706.03762v7/#S2",children:"https://arxiv.org/html/1706.03762v7/#S2"}),"\n[6]",(0,r.jsx)(n.a,{href:"https://zhuanlan.zhihu.com/p/379722366",children:"https://zhuanlan.zhihu.com/p/379722366"}),"\n[7]CoThttps://",(0,r.jsx)(n.a,{href:"http://www.zhihu.com/tardis/zm/art/629087587?source_id=1003",children:"www.zhihu.com/tardis/zm/art/629087587?source_id=1003"})]})]})}function o(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},1978:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/encoder-decoder-0e9a910c139f4785f4753d4d7425b12a.png"},8539:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/self-attention-14c743496e66b3524d901ab48e94a0bc.png"},231:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/transformer-fd66e701ed5c43c38eb128c8825679a1.png"},1652:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/transformer_arch-9017a06980296ea30aa457038af30f74.png"},1780:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>a});var r=t(9474);const s={},i=r.createContext(s);function d(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);